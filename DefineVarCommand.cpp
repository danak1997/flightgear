//
// Created by chen96 on 22/12/2019.
//

#include "DefineVarCommand.h"
#include "Maps.h"

int DefineVarCommand::execute(vector<string> params,bool isConditionInvoked) {
  if(isConditionInvoked) {
    if (params[2].compare("->") == 0) {
      string sim = params[4];
      sim = sim.substr(1, sim.length() - 2);
      Maps::symbolTableClientToSim[params[1]] = make_pair(0, sim);
    } else if (params[2].compare("<-") == 0) {
      string sim = params[4];
      sim = sim.substr(1, sim.length() - 2);
      Maps::symbolTableSimToClient[params[1]] = make_pair(0, sim);
    } else {

    }
  }
  return 5;
}